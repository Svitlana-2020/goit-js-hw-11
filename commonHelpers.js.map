{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '44855126-e7e59ad0378cdd72f172648f5';\n\nexport function getPictureByQuery(query) {\n    return fetch (`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=\"photo\"&orientation=\"horizontal\"&safesearch=\"true\"&per_page=\"20\"`)\n    .then((res) => {\n                    console.log(res);\n                        if (!res.ok) {\n                            throw new Error (res.status);\n                        }\n                        return res.json();\n                            })}\n","export const refs = {\ninputQ: document.querySelector('.input'),\ngalleryCard: document.querySelector('.list-class'),\nsearchBtn: document.querySelector('.start-btn'),\nformForm: document.querySelector('.input-button'),\nloader: document.querySelector('.loader')\n}","// // Описаний у документації\n// import iziToast from \"izitoast\";\n// // Додатковий імпорт стилів\n// import \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { refs } from \"./refs\";\n\nexport const lightbox = new SimpleLightbox('.gallery-item a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    spinner: false,\n  });\n\nexport function renderGalleryMarkup(array) {\n    const markUp = array.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <li class = \"gallery-item\">\n    \n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <div class=\"img-container\">\n            <img \n                class=\"gallery-img\" \n                src=\"${webformatURL}\" \n                alt=\"${tags}\" \n                />\n                </div>\n        </a>\n       \n        <div class=\"numbers-group\">\n                 <span class=\"group\">\n        <p class=\"numbers\">Likes</p>\n        <p class=\"number\">${likes}</p>\n                </span>\n                    <span class=\"group\">\n        <p class=\"numbers\">Views</p>\n         <p class=\"number\">${views}</p>\n                    </span>\n                    <span class=\"group\">\n        <p class=\"numbers\">Comments</p>\n        <p class=\"number\">${comments}</p>\n                    </span>\n                    <span class=\"group\">\n        <p class=\"numbers\">Downloads</p>\n        <p class=\"number\">${downloads}</p>\n                    </span>\n        </div>\n    </li>\n    `  ).join('');\n    refs.galleryCard.insertAdjacentHTML('beforeend', markUp);\n    lightbox.on('show.simplelightbox', function () {\n    });\n    lightbox.refresh();\n    }","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getPictureByQuery } from \"./js/pixabay-api\";\nimport { lightbox, renderGalleryMarkup } from \"./js/render-functions\";\nimport { refs } from \"./js/refs\";\n\n\nrefs.formForm.addEventListener('submit', handleSearch);\n\n            function handleSearch(e) {\n                        e.preventDefault();\n                        const form = e.currentTarget;\n                        const queryValue = form.elements.inputf.value.trim();\n                        refs.galleryCard.innerHTML = '';\n                        refs.loader.classList.remove('hidden');\n                        if (queryValue === \"\") {\n                            {\n                                refs.loader.classList.add('hidden');\n                                form.reset();\n                        iziToast.show({\n                                    message: '\"Enter a search query in a search field. Pls try again\"',\n                                    messageColor: 'white',\n                                    messageLineHeight: '150%',\n                                    backgroundColor: '#ef4040',\n                                    position: 'topRight'\n                                            })\n                                    }\n                                    return;\n                        }\n                                                        getPictureByQuery(queryValue)\n                                    .then(({ hits }) => {\n                                        if (hits && hits.length > 0) {\n                                                                   renderGalleryMarkup(hits);}\n                                        else {\n                                            return Promise.reject(new Error(''));\n                                        }\n                                    })\n                                    .catch(fetchError)\n                        .finally(() => {\n                            refs.loader.classList.add('hidden');\n                        form.reset(); \n    });\n                    }\n\n                    function fetchError(err) {\n                        // refs.loader.style.display = 'none';\n                        iziToast.show({\n                            message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n                            messageColor: 'white',\n                            messageLineHeight: '150%',\n                            backgroundColor: '#ef4040',\n                            position: 'topRight'\n                                    })\n                            }\n\n// lightbox.on('show.simplelightbox', function () {\n//         });\n\n"],"names":["apiKey","getPictureByQuery","query","res","refs","lightbox","SimpleLightbox","renderGalleryMarkup","array","markUp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","handleSearch","e","form","queryValue","iziToast","hits","fetchError","err"],"mappings":"6vBAAA,MAAMA,EAAS,qCAER,SAASC,EAAkBC,EAAO,CACrC,OAAO,MAAO,gCAAgCF,CAAM,MAAME,CAAK,8EAA8E,EAC5I,KAAMC,GAAQ,CAEK,GADJ,QAAQ,IAAIA,CAAG,EACP,CAACA,EAAI,GACL,MAAM,IAAI,MAAOA,EAAI,MAAM,EAE/B,OAAOA,EAAI,MACnC,CAA6B,CAAC,CCVvB,MAAMC,EAAO,CACpB,OAAQ,SAAS,cAAc,QAAQ,EACvC,YAAa,SAAS,cAAc,aAAa,EACjD,UAAW,SAAS,cAAc,YAAY,EAC9C,SAAU,SAAS,cAAc,eAAe,EAChD,OAAQ,SAAS,cAAc,SAAS,CACxC,ECKaC,EAAW,IAAIC,EAAe,kBAAmB,CAC1D,aAAc,MACd,gBAAiB,SACjB,QAAS,EACb,CAAG,EAEI,SAASC,EAAoBC,EAAO,CACvC,MAAMC,EAASD,EAAM,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,oCAGrEL,CAAa;AAAA;AAAA;AAAA;AAAA,uBAI1BD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAQCC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAIJC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAINC,CAAQ;AAAA;AAAA;AAAA;AAAA,4BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI7B,EAAC,KAAK,EAAE,EACZZ,EAAK,YAAY,mBAAmB,YAAaK,CAAM,EACvDJ,EAAS,GAAG,sBAAuB,UAAY,CACnD,CAAK,EACDA,EAAS,QAAO,CACpB,CC7CAD,EAAK,SAAS,iBAAiB,SAAUa,CAAY,EAEzC,SAASA,EAAaC,EAAG,CACbA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACTE,EAAaD,EAAK,SAAS,OAAO,MAAM,OAG9C,GAFAf,EAAK,YAAY,UAAY,GAC7BA,EAAK,OAAO,UAAU,OAAO,QAAQ,EACjCgB,IAAe,GAAI,CAEfhB,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCe,EAAK,MAAK,EAClBE,EAAS,KAAK,CACF,QAAS,0DACT,aAAc,QACd,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,UAC9C,CAA6C,EAET,MACX,CAC+BpB,EAAkBmB,CAAU,EAC/C,KAAK,CAAC,CAAE,KAAAE,KAAW,CAChB,GAAIA,GAAQA,EAAK,OAAS,EACCf,EAAoBe,CAAI,MAE/C,QAAO,QAAQ,OAAO,IAAI,MAAM,EAAE,CAAC,CAE/E,CAAqC,EACA,MAAMC,CAAU,EAC5B,QAAQ,IAAM,CACXnB,EAAK,OAAO,UAAU,IAAI,QAAQ,EACtCe,EAAK,MAAK,CAClC,CAAK,CACgB,CAED,SAASI,EAAWC,EAAK,CAErBH,EAAS,KAAK,CACV,QAAS,6EACT,aAAc,QACd,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,UACtC,CAAqC,CACR"}