{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.list-class a', {\n    // captionsData: 'alt',\n    // captionPosition: 'bottom',\n    // captionDelay: 250,\n  });\n\n  lightbox.on('show.simplelightbox', function () {\n    spinner: true;\n    \n\n});\n\nconst apiKey = '44855126-e7e59ad0378cdd72f172648f5';\nconst inputQ = document.querySelector('.input');\nconst galleryCard = document.querySelector('.list-class')\nconst searchBtn = document.querySelector('.start-btn')\nconst formForm = document.querySelector('.input-button')\n\n// const query = inputQ.value;\n// console.log(query)\n\nlet query = 'tower';\n\nconst url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=\"photo\"&orientation=\"horizontal\"&safesearch=\"true\"`;\n\n// function getPicture(query) {\n//     return fetch (url).then((res) => {\n//         console.log(res);\n//         if (!res.ok) {\n//             throw new Error (res.status);\n//         }\n//         return res.json();\n//             })}\n\n    // getPicture(\"tower\").then ((data) => {\n    //     console.log(data)\n    //     // galleryCard.insertAdjacentHTML('beforeend', cardCollection(data));\n    // })\n    // .catch ((err) => console.error(err))\n\n    function getPictureByTag(tags) {\n        return fetch (`https://pixabay.com/api/?key=${apiKey}&q=${tags}`).then((res) => {\n            console.log(res);\n            if (!res.ok) {\n                throw new Error (res.status);\n            }\n            return res.json();\n                })}\n    \n        getPictureByTag('dogs').then ((data) => {\n            console.log(data)\n            galleryCard.insertAdjacentHTML('beforeend', cardCollection(data));\n        })\n        .catch ((err) => console.error(err))\n\nfunction cardCollection({hits}) {\n\n    const listItems = hits.map((webformatURL, largeImageURL, tags, likes, views, comments, downloads) => `\n    <li class = \"gallery-item\"><a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\">\n      <h2 class=\"category js-likes\">Likes</h2>\n      <p class=\"numbers js-likes-num\">'${likes}'</p>\n      <h2 class=\"category js-views\">Views</h2>\n      <p class=\"numbers js-views-num\">'${views}'</p>\n      <h2 class=\"category js-comments\"></h2>\n      <p class=\"numbers js-comments-num\">'${comments}'</p>\n      <h2 class=\"category js-downloads\"></h2>\n      <p class=\"numbers js-downloads-num\">'${downloads}'</p>\n    </a></li>\n    `).join(\"\")\n}\n\nformForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(e) {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const queryValue = form.elements.inputf.value;\n    console.log(queryValue);\n            getPicture(queryValue)\n                .then(cardCollection)\n                .catch(fetchError)\n    form.reset()\n}\n\n\nfunction fetchError(err) {\n    iziToast.show({\n        message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n        messageColor: 'white',\n        messageLineHeight: '150%',\n        backgroundColor: '#ef4040',\n        position: 'topRight'\n    });;\n}\n\n"],"names":["lightbox","SimpleLightbox","apiKey","galleryCard","formForm","getPictureByTag","tags","res","data","cardCollection","err","hits","webformatURL","largeImageURL","likes","views","comments","downloads","handleSearch","e","form","queryValue","fetchError","iziToast"],"mappings":"6vBAUA,MAAMA,EAAW,IAAIC,EAAe,gBAAiB,CAIrD,CAAG,EAEDD,EAAS,GAAG,sBAAuB,UAAY,CAIjD,CAAC,EAED,MAAME,EAAS,qCACA,SAAS,cAAc,QAAQ,EAC9C,MAAMC,EAAc,SAAS,cAAc,aAAa,EACtC,SAAS,cAAc,YAAY,EACrD,MAAMC,EAAW,SAAS,cAAc,eAAe,EAwBnD,SAASC,EAAgBC,EAAM,CAC3B,OAAO,MAAO,gCAAgCJ,CAAM,MAAMI,CAAI,EAAE,EAAE,KAAMC,GAAQ,CAE5E,GADA,QAAQ,IAAIA,CAAG,EACX,CAACA,EAAI,GACL,MAAM,IAAI,MAAOA,EAAI,MAAM,EAE/B,OAAOA,EAAI,MACvB,CAAiB,CAAC,CAEVF,EAAgB,MAAM,EAAE,KAAOG,GAAS,CACpC,QAAQ,IAAIA,CAAI,EAChBL,EAAY,mBAAmB,YAAaM,EAAeD,CAAI,CAAC,CAC5E,CAAS,EACA,MAAQE,GAAQ,QAAQ,MAAMA,CAAG,CAAC,EAE3C,SAASD,EAAe,CAAC,KAAAE,CAAI,EAAG,CAEVA,EAAK,IAAI,CAACC,EAAcC,EAAeP,EAAMQ,EAAOC,EAAOC,EAAUC,IAAc;AAAA,+DAC1CJ,CAAa;AAAA,kBAC1DD,CAAY,UAAUN,CAAI;AAAA;AAAA,yCAEHQ,CAAK;AAAA;AAAA,yCAELC,CAAK;AAAA;AAAA,4CAEFC,CAAQ;AAAA;AAAA,6CAEPC,CAAS;AAAA;AAAA,KAEjD,EAAE,KAAK,EAAE,CACd,CAEAb,EAAS,iBAAiB,SAAUc,CAAY,EAEhD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACTE,EAAaD,EAAK,SAAS,OAAO,MACxC,QAAQ,IAAIC,CAAU,EACd,WAAWA,CAAU,EAChB,KAAKZ,CAAc,EACnB,MAAMa,CAAU,EAC7BF,EAAK,MAAO,CAChB,CAGA,SAASE,EAAWZ,EAAK,CACrBa,EAAS,KAAK,CACV,QAAS,6EACT,aAAc,QACd,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,UAClB,CAAK,CACL"}