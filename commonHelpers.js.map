{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    spinner: true,\n  });\n\n\nconst apiKey = '44855126-e7e59ad0378cdd72f172648f5';\nconst inputQ = document.querySelector('.input');\nconst galleryCard = document.querySelector('.list-class')\nconst searchBtn = document.querySelector('.start-btn')\nconst formForm = document.querySelector('.input-button')\n\nformForm.addEventListener('submit', handleSearch);\n\n            function handleSearch(e) {\n                        e.preventDefault();\n                        const form = e.currentTarget;\n                        const queryValue = form.elements.inputf.value;\n                        console.log(queryValue);\n                                getPictureByQuery(queryValue)\n                                    .then((data) => {\n                                        console.log(data.hits);\n                                        const dataHits = data.hits;\n                                        const cardCollectionMarkup = cardCollection(dataHits);\n                                        console.log(cardCollectionMarkup);\n                                        galleryCard.insertAdjacentHTML('beforeend', cardCollectionMarkup);\n\n                                    })\n                                    .catch(fetchError)\n                        form.reset();\n                    }\n\n                    function getPictureByQuery(query) {\n                            return fetch (`https://pixabay.com/api/?key=${apiKey}&q=${query}`)\n                            .then((res) => {\n                                            console.log(res);\n                                                if (!res.ok) {\n                                                    throw new Error (res.status);\n                                                }\n                                                return res.json();\n                                                    })}\n\n                    function cardCollection ({array}) {\n                            return array.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n                            <li class = \"gallery-item\"><a class=\"gallery-link\" href=\"${largeImageURL}\">\n                                <a class=\"gallery-link\" href=\"${original}\">\n                                    <img \n                                        class=\"gallery-img\" \n                                        src=\"${webformatURL}\" \n                                        alt=\"${tags}\" \n                                        />\n                                </a>\n                                <p class=\"numbers js-likes-num\">'Likes ${likes}'</p>\n                                <p class=\"numbers js-views-num\">'Views ${views}'</p>\n                                <p class=\"numbers js-comments-num\">'Comments ${comments}'</p>\n                                <p class=\"numbers js-downloads-num\">'Downloads ${downloads}'</p>\n                            </li>\n                            `  ).join('');\n                            }\n\n                    function fetchError(err) {\n                        iziToast.show({\n                            message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n                            messageColor: 'white',\n                            messageLineHeight: '150%',\n                            backgroundColor: '#ef4040',\n                            position: 'topRight'\n                                    })\n                            }\n\nlightbox.on('show.simplelightbox', function () {\n        });\n\n// const url = `https://pixabay.com/api/?key=${apiKey}&q=${queryValue}&image_type=\"photo\"&orientation=\"horizontal\"&safesearch=\"true\"`;\n\n    // function getPictureByQuery(query) {\n    //     return fetch (`https://pixabay.com/api/?key=${apiKey}&q=${query}`).then((res) => {\n    //         console.log(res);\n    //         if (!res.ok) {\n    //             throw new Error (res.status);\n    //         }\n    //         return res.json();\n    //             })}\n    \n        // getPictureByTag('tags').then ((data) => {\n        //     console.log(data)\n        //     galleryCard.insertAdjacentHTML('beforeend', cardCollection(data));\n        // })\n        // .catch ((err) => console.error(err))\n\n"],"names":["lightbox","SimpleLightbox","apiKey","galleryCard","formForm","handleSearch","e","form","queryValue","getPictureByQuery","data","dataHits","cardCollectionMarkup","cardCollection","fetchError","query","res","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","err","iziToast"],"mappings":"6vBAUA,MAAMA,EAAW,IAAIC,EAAe,kBAAmB,CACnD,aAAc,MACd,gBAAiB,SACjB,QAAS,EACb,CAAG,EAGGC,EAAS,qCACA,SAAS,cAAc,QAAQ,EAC9C,MAAMC,EAAc,SAAS,cAAc,aAAa,EACtC,SAAS,cAAc,YAAY,EACrD,MAAMC,EAAW,SAAS,cAAc,eAAe,EAEvDA,EAAS,iBAAiB,SAAUC,CAAY,EAEpC,SAASA,EAAaC,EAAG,CACbA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACTE,EAAaD,EAAK,SAAS,OAAO,MACxC,QAAQ,IAAIC,CAAU,EACdC,EAAkBD,CAAU,EACvB,KAAME,GAAS,CACZ,QAAQ,IAAIA,EAAK,IAAI,EACrB,MAAMC,EAAWD,EAAK,KAChBE,EAAuBC,EAAeF,CAAQ,EACpD,QAAQ,IAAIC,CAAoB,EAChCT,EAAY,mBAAmB,YAAaS,CAAoB,CAExG,CAAqC,EACA,MAAME,CAAU,EAC7BP,EAAK,MAAK,CACb,CAED,SAASE,EAAkBM,EAAO,CAC1B,OAAO,MAAO,gCAAgCb,CAAM,MAAMa,CAAK,EAAE,EAChE,KAAMC,GAAQ,CAEK,GADJ,QAAQ,IAAIA,CAAG,EACP,CAACA,EAAI,GACL,MAAM,IAAI,MAAOA,EAAI,MAAM,EAE/B,OAAOA,EAAI,MAC3D,CAAqD,CAAC,CAElC,SAASH,EAAgB,CAAC,MAAAI,CAAK,EAAG,CAC1B,OAAOA,EAAM,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA,uFAClCL,CAAa;AAAA,gEACpC,QAAQ;AAAA;AAAA;AAAA,+CAGzBD,CAAY;AAAA,+CACZE,CAAI;AAAA;AAAA;AAAA,yEAGsBC,CAAK;AAAA,yEACLC,CAAK;AAAA,+EACCC,CAAQ;AAAA,iFACNC,CAAS;AAAA;AAAA,6BAE1D,EAAC,KAAK,EAAE,CACX,CAET,SAASV,EAAWW,EAAK,CACrBC,EAAS,KAAK,CACV,QAAS,6EACT,aAAc,QACd,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,UACtC,CAAqC,CACR,CAE7B1B,EAAS,GAAG,sBAAuB,UAAY,CAC/C,CAAS"}